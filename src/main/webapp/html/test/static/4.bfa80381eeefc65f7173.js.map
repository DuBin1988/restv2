{"version":3,"sources":["webpack:///4.bfa80381eeefc65f7173.js","webpack:///TaskList.vue?7f80","webpack:///./src/components/task/TaskList.vue?1d30*","webpack:///./src/components/task/TaskList.vue?ecac"],"names":["webpackJsonp",27,"module","exports","__webpack_require__","Object","defineProperty","value","_vueClient","title","data","model","TreeList","props","methods","search","args","this","project","condition","id",44,46,"__vue_script__","__vue_template__","__esModule","options","template"],"mappings":"AAAAA,cAAc,IAERC,GACA,SAASC,EAAQC,EAASC,GAE/B,YAEAC,QAAOC,eAAeH,EAAS,cAC7BI,OAAO,GAGT,IAAIC,GAAaJ,EAAoB,GAErCD,eACEM,MC6CH,OD5CGC,KAAM,WACJ,OACEC,MAAO,GAAIH,GAAWI,SC+C7B,sBD3CGC,OC4CH,WD3CGC,SACEC,OAAQ,SAAgBC,GAClBC,KAAKC,UACPF,EAAKG,WAAa,oBAAsBF,KAAKC,QC8CtDE,ID5COH,KAAKN,MAAMI,OAAOC,EAAKG,kBAOxBE,GACA,SAASnB,EAAQC,GEnCvBD,EAAAC,QAAA,whDFyCMmB,GACA,SAASpB,EAAQC,EAASC,GG1ChC,GAAAmB,GAAAC,CACAD,GAAAnB,EAAA,IACAoB,EAAApB,EAAA,IACAF,EAAAC,QAAAoB,MACArB,EAAAC,QAAAsB,aAAAvB,EAAAC,QAAAD,EAAAC,QAAAD,YACAsB,KACA,kBAAAtB,GAAAC,QAAAD,EAAAC,QAAAuB,UAAAxB,EAAAC,QAAAuB,YAA+FxB,EAAAC,SAAAwB,SAAAH","file":"4.bfa80381eeefc65f7173.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 27:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vueClient = __webpack_require__(12);\n\t\n\texports.default = {\n\t  title: '任务管理',\n\t  data: function data() {\n\t    return {\n\t      model: new _vueClient.TreeList('/rs/sql/task.sql')\n\t    };\n\t  },\n\t\n\t  props: ['project'],\n\t  methods: {\n\t    search: function search(args) {\n\t      if (this.project) {\n\t        args.condition += ' and f_projectid=' + this.project.id;\n\t      }\n\t      this.model.search(args.condition, {});\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 44:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=ProjectTask class=\\\"flex panel panel-primary\\\"><article class=\\\"span panel-body\\\"><criteria-paged :model=model :pager=false @condition-changed=search><criteria partial=criteria><div class=auto partial>名称: <input type=text v-model=model.f_name v-on:keyup.enter=search condition=\\\"f_name like '{}%'\\\" defaultvalue=\\\"'13'\\\"> 项目: <input type=text v-model=model.project v-on:keyup.enter=search condition=\\\"project.f_name like '{}%'\\\" defaultvalue=\\\"'13'\\\"> <button v-on:click=search()>查询</button> <button class=\\\"btn btn-primary pull-right\\\" @click='$goto(\\\"task-form\\\", {project: $parent.$parent.project})'>新任务</button></div></criteria><grid-tree :model=model.rows url=rs/sql/subtask.sql partial=list v-ref:tree><template partial=head><tr><th>名称<th>状态<th>项目名称<th>执行人<th>要求时间<th>操作</template><template partial=body><td>{{row.data.f_state}}<td>{{row.data.f_projectname}}<td>{{row.data.f_actor}}<td>{{row.data.f_musttime}}<td><button v-if=isSelected(row) @click='remove(\\\"rs/entity/t_task\\\", row.data)'>x</button> <button v-if=isSelected(row) @click='$goto(\\\"task-form\\\", {parent: row.data})'>子任务</button> <button v-if='isSelected(row) && row.data.f_state === \\\"登记\\\"' @click='$goto(\\\"dispatch-form\\\", {task: row.data})'>派发</button> <button v-if=isSelected(row) @click='$goto(\\\"task-form\\\", {source: row.data})'>修改</button> <button v-if=isSelected(row) @click='$goto(\\\"task\\\", {task: row.data})'>查看</button></template><span partial>{{row.data.f_name}}</span></grid-tree></criteria-paged></article><footer class=panel-footer>共{{model.rows.length}}项</footer></div>\";\n\n/***/ },\n\n/***/ 46:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(27)\n\t__vue_template__ = __webpack_require__(44)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 4.bfa80381eeefc65f7173.js\n **/","<template>\r\n  <div id='ProjectTask' class='flex panel panel-primary'>\r\n    <article class='span panel-body'>\r\n      <criteria-paged :model='model' :pager='false' @condition-changed='search'>\r\n        <criteria partial='criteria'>\r\n          <div class='auto' partial>\r\n            名称:\r\n            <input type=\"text\" v-model=\"model.f_name\" v-on:keyup.enter=\"search\"\r\n              condition=\"f_name like '{}%'\" defaultvalue=\"'13'\">\r\n            项目:\r\n            <input type=\"text\" v-model=\"model.project\" v-on:keyup.enter=\"search\"\r\n              condition=\"project.f_name like '{}%'\" defaultvalue=\"'13'\">\r\n            <button v-on:click=\"search()\">查询</button>\r\n            <button class='btn btn-primary pull-right'\r\n              @click='$goto(\"task-form\", {project: $parent.$parent.project})'>新任务\r\n            </button>\r\n          </div>\r\n        </criteria>\r\n        <grid-tree :model=\"model.rows\" url='rs/sql/subtask.sql' partial='list' v-ref:tree>\r\n          <template partial='head'>\r\n            <tr>\r\n              <th>名称</th>\r\n              <th>状态</th>\r\n              <th>项目名称</th>\r\n              <th>执行人</th>\r\n              <th>要求时间</th>\r\n              <th>操作</th>\r\n            </tr>\r\n          </template>\r\n          <template partial='body'>\r\n            <td>{{row.data.f_state}}</td>\r\n            <td>{{row.data.f_projectname}}</td>\r\n            <td>{{row.data.f_actor}}</td>\r\n            <td>{{row.data.f_musttime}}</td>\r\n            <td>\r\n              <button v-if='isSelected(row)' @click='remove(\"rs/entity/t_task\", row.data)'>x</button>\r\n              <button v-if='isSelected(row)' @click='$goto(\"task-form\", {parent: row.data})'>子任务</button>\r\n              <button\r\n                v-if='isSelected(row) && row.data.f_state === \"登记\"'\r\n                @click='$goto(\"dispatch-form\", {task: row.data})'>派发</button>\r\n              <button v-if='isSelected(row)' @click='$goto(\"task-form\", {source: row.data})'>修改</button>\r\n              <button v-if='isSelected(row)' @click='$goto(\"task\", {task: row.data})'>查看</button>\r\n            </td>\r\n          </template>\r\n          <span partial>{{row.data.f_name}}</span>\r\n        </grid-tree>\r\n      </criteria-paged>\r\n    </article>\r\n    <footer class='panel-footer'>\r\n      共{{model.rows.length}}项\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { TreeList } from 'vue-client'\r\n\r\nexport default {\r\n  title: '任务管理',\r\n  data () {\r\n    return {\r\n      model: new TreeList('/rs/sql/task.sql')\r\n    }\r\n  },\r\n  props: [ 'project' ],\r\n  methods: {\r\n    search (args) {\r\n      // 存在项目，只查本项目的\r\n      if (this.project) {\r\n        args.condition += ` and f_projectid=${this.project.id}`\r\n      }\r\n      this.model.search(args.condition, {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n/** WEBPACK FOOTER **\n ** TaskList.vue?b9c63900\n **/","module.exports = \"<div id=ProjectTask class=\\\"flex panel panel-primary\\\"><article class=\\\"span panel-body\\\"><criteria-paged :model=model :pager=false @condition-changed=search><criteria partial=criteria><div class=auto partial>名称: <input type=text v-model=model.f_name v-on:keyup.enter=search condition=\\\"f_name like '{}%'\\\" defaultvalue=\\\"'13'\\\"> 项目: <input type=text v-model=model.project v-on:keyup.enter=search condition=\\\"project.f_name like '{}%'\\\" defaultvalue=\\\"'13'\\\"> <button v-on:click=search()>查询</button> <button class=\\\"btn btn-primary pull-right\\\" @click='$goto(\\\"task-form\\\", {project: $parent.$parent.project})'>新任务</button></div></criteria><grid-tree :model=model.rows url=rs/sql/subtask.sql partial=list v-ref:tree><template partial=head><tr><th>名称<th>状态<th>项目名称<th>执行人<th>要求时间<th>操作</template><template partial=body><td>{{row.data.f_state}}<td>{{row.data.f_projectname}}<td>{{row.data.f_actor}}<td>{{row.data.f_musttime}}<td><button v-if=isSelected(row) @click='remove(\\\"rs/entity/t_task\\\", row.data)'>x</button> <button v-if=isSelected(row) @click='$goto(\\\"task-form\\\", {parent: row.data})'>子任务</button> <button v-if='isSelected(row) && row.data.f_state === \\\"登记\\\"' @click='$goto(\\\"dispatch-form\\\", {task: row.data})'>派发</button> <button v-if=isSelected(row) @click='$goto(\\\"task-form\\\", {source: row.data})'>修改</button> <button v-if=isSelected(row) @click='$goto(\\\"task\\\", {task: row.data})'>查看</button></template><span partial>{{row.data.f_name}}</span></grid-tree></criteria-paged></article><footer class=panel-footer>共{{model.rows.length}}项</footer></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/task/TaskList.vue\n ** module id = 44\n ** module chunks = 1 4\n **/","var __vue_script__, __vue_template__\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./TaskList.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./TaskList.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/task/TaskList.vue\n ** module id = 46\n ** module chunks = 1 4\n **/"],"sourceRoot":""}