webpackJsonp([1,4],{27:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(12);e["default"]={title:"任务管理",data:function(){return{model:new r.TreeList("/rs/sql/task.sql")}},props:["project"],methods:{search:function(t){this.project&&(t.condition+=" and f_projectid="+this.project.id),this.model.search(t.condition,{})}}}},44:function(t,e){t.exports='<div id=ProjectTask class="flex panel panel-primary"><article class="span panel-body"><criteria-paged :model=model :pager=false @condition-changed=search><criteria partial=criteria><div class=auto partial>名称: <input type=text v-model=model.f_name v-on:keyup.enter=search condition="f_name like \'{}%\'" defaultvalue="\'13\'"> 项目: <input type=text v-model=model.project v-on:keyup.enter=search condition="project.f_name like \'{}%\'" defaultvalue="\'13\'"> <button v-on:click=search()>查询</button> <button class="btn btn-primary pull-right" @click=\'$goto("task-form", {project: $parent.$parent.project})\'>新任务</button></div></criteria><grid-tree :model=model.rows url=rs/sql/subtask.sql partial=list v-ref:tree><template partial=head><tr><th>名称<th>状态<th>项目名称<th>执行人<th>要求时间<th>操作</template><template partial=body><td>{{row.data.f_state}}<td>{{row.data.f_projectname}}<td>{{row.data.f_actor}}<td>{{row.data.f_musttime}}<td><button v-if=isSelected(row) @click=\'remove("rs/entity/t_task", row.data)\'>x</button> <button v-if=isSelected(row) @click=\'$goto("task-form", {parent: row.data})\'>子任务</button> <button v-if=\'isSelected(row) && row.data.f_state === "登记"\' @click=\'$goto("dispatch-form", {task: row.data})\'>派发</button> <button v-if=isSelected(row) @click=\'$goto("task-form", {source: row.data})\'>修改</button> <button v-if=isSelected(row) @click=\'$goto("task", {task: row.data})\'>查看</button></template><span partial>{{row.data.f_name}}</span></grid-tree></criteria-paged></article><footer class=panel-footer>共{{model.rows.length}}项</footer></div>'},46:function(t,e,o){var r,a;r=o(27),a=o(44),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},102:function(t,e,o){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=o(211),s=r(a),i=o(46),l=r(i);e["default"]={title:"项目管理",components:{ProjectList:s["default"],TaskList:l["default"]}}},104:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(12);e["default"]={data:function(){return{model:new r.TreeList("/rs/sql/project.sql")}},computed:{selected:function(){return this.$refs.paged.$refs.tree.selected}},methods:{search:function(){this.model.search("1=1",{})}}}},185:function(t,e){t.exports='<div class=flex-row><div><project-list v-ref:project></project-list></div><div class=span-row><task-list v-if="$refs.project && $refs.project.selected" :project=$refs.project.selected.data></task-list></div></div>'},187:function(t,e){t.exports='<div class="flex panel panel-primary"><article class="span panel-body"><criteria-paged :model=model @condition-changed=search :pager=false v-ref:paged><criteria partial=criteria><div novalidate class="form-inline auto" partial><div class=form-group><label class=sr-only for=ProjectName>项目名称</label><input type=text class=form-control id=ProjectName placeholder=请输入项目名称 v-model=model.f_name v-on:keyup.enter=search condition="f_name like \'{}%\'" defaultvalue="\'13\'"></div><button class="btn btn-default" @click=search()>查询</button> <button class="btn btn-primary" @click="$goto(\'project-form\')">新项目</button></div></criteria><tree :model=model.rows url=rs/sql/subproject.sql partial=list v-ref:tree><span partial>{{ row.data.f_name }} <button class="badge pull-right" v-if=isSelected(row) @click=\'remove("rs/entity/t_project", row)\'>x</button> <button class="badge pull-right" v-if=isSelected(row) @click=\'$goto("project-form", {parent: row.data})\'>子项目</button></span></tree></criteria-paged></article><footer class=panel-footer>共{{model.rows.length}}项</footer></div>'},209:function(t,e,o){var r,a;r=o(102),a=o(185),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},211:function(t,e,o){var r,a;r=o(104),a=o(187),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)}});
//# sourceMappingURL=1.02018c05d8329f269ef5.js.map